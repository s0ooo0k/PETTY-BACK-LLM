<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/defaultLayout}">
<head>
    <title>ì¶”ì²œ ì—¬í–‰ì§€</title> <th:block layout:fragment="css">
    <style>
        /* ì¶”ì²œ ì—¬í–‰ì§€ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .recommendation-card {
            background: var(--card-bg-color);
            padding: 20px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--box-shadow-light);
            margin-bottom: 25px; /* ì¹´ë“œ ê°„ ê°„ê²© */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex; /* ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ë¥¼ ê°€ë¡œë¡œ ë°°ì¹˜ */
            align-items: flex-start; /* ìƒë‹¨ ì •ë ¬ */
            gap: 20px; /* ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ê°„ ê°„ê²© */
        }

        .recommendation-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-cute);
        }

        .recommendation-card .place-image {
            width: 150px; /* ì´ë¯¸ì§€ ë„ˆë¹„ ê³ ì • */
            height: 150px; /* ì´ë¯¸ì§€ ë†’ì´ ê³ ì • */
            object-fit: cover; /* ì´ë¯¸ì§€ ë¹„ìœ¨ ìœ ì§€ ë° ì˜ë¼ë‚´ê¸° */
            border-radius: var(--border-radius-md); /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            flex-shrink: 0; /* ë‚´ìš©ì´ ë§ì•„ë„ ì´ë¯¸ì§€ê°€ ì¤„ì–´ë“¤ì§€ ì•Šë„ë¡ */
            border: 2px solid var(--input-border-color);
        }

        .recommendation-card .place-details {
            flex-grow: 1; /* ë‚¨ì€ ê³µê°„ ëª¨ë‘ ì‚¬ìš© */
        }

        .recommendation-card h3 {
            color: var(--point-color);
            font-size: 1.6em;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .recommendation-card p {
            color: var(--secondary-text-color);
            font-size: 1em;
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .recommendation-card p strong {
            color: var(--text-color);
        }

        /* ì´ë¯¸ì§€ê°€ ì—†ì„ ë•Œ ëŒ€ì²´ ìŠ¤íƒ€ì¼ (ì„ íƒ ì‚¬í•­) */
        .no-image-placeholder {
            width: 150px;
            height: 150px;
            border-radius: var(--border-radius-md);
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #ccc;
            font-size: 0.9em;
            text-align: center;
            flex-shrink: 0;
        }
    </style>
</th:block>
</head>
<body>
<th:block layout:fragment="content">
    <main>
        <h1>ğŸ¾ ì¶”ì²œ ì—¬í–‰ì§€</h1>

        <div class="result-block" th:if="${recommendationResponse}">
            <h2>ì¶”ì²œ ì—¬í–‰ì§€ ë¦¬ìŠ¤íŠ¸</h2>
            <div th:each="place : ${recommendationResponse.recommend}" class="recommendation-card">
                <a href="@{'/recommend/detail' + ${place.contentId}}" >
                <img th:if="${place.imageUrl}" th:src="${place.imageUrl}" alt="ì—¬í–‰ì§€ ì´ë¯¸ì§€" class="place-image" />
                <div th:unless="${place.imageUrl}" class="no-image-placeholder">ì´ë¯¸ì§€ ì—†ìŒ</div>

                <div class="place-details">
                    <h3 th:text="${place.title}"></h3>
                    <p><strong>ì£¼ì†Œ:</strong> <span th:text="${place.addr}"></span></p>
                    <p><strong>ì¶”ì²œ ì´ìœ :</strong> <span th:text="${place.recommendReason}"></span></p>
                    <p><strong>ê°€ëŠ¥ ë™ë¬¼:</strong> <span th:text="${place.acmpyPsblCpam ?: 'ì •ë³´ ì—†ìŒ'}"></span></p>
                    <p><strong>ë™ë°˜ ìœ í˜•:</strong> <span th:text="${place.acmpyTypeCd ?: 'ì •ë³´ ì—†ìŒ'}"></span></p>
                    <p><strong>ì¤€ë¹„ë¬¼:</strong> <span th:text="${place.acmpyNeedMtr ?: 'ì •ë³´ ì—†ìŒ'}"></span></p>
                </div>
                </a>
            </div>
        </div>

        <div class="result-block" th:if="${error}">
            <h2>ì˜¤ë¥˜ ë°œìƒ</h2>
            <p th:text="${error}" style="color: red;"></p>
        </div>
    </main>
</th:block>

<th:block layout:fragment="script">
</th:block>
</body>
</html>